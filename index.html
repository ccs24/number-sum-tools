<!DOCTYPE html>
<html>
  <html lang="pl">
    <head>

  <title>Number Sums Tools</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

<script>

  
function sumX(tableX) {
  let s = 0;
  size = tableX.length;
//    console.log(tableX,size);
  for (i=0;i<size;i++)
  { s +=  parseInt(tableX[i]); }
  return s;
}


function workX(baza,input,start) { //"przewija jedną cyfrę od startu do końca input
  let retArr = [];
  let w = '';
    console.log("baza start",baza,start);
  
    for(let i=start;i<input.length;i++) {
        r = input.substring(i,i+1);
        w = baza + r;
        console.log("w r",w,r);
        retArr[retArr.length] = w;
//        console.log("work",sumX(w),w);
    }
  return retArr;
}

function permute() {
  let total = document.getElementById("total").value; 
  let input = document.getElementById("input").value; 
// console.log("total",total);
// console.log("input",input);
    

    let chars = input.split("");
    let s = chars.length;

   // console.log("first",sumX(input),input);

    let retArr = [];
    let  k= 1;
    for (let liczbaCyfr = 1; liczbaCyfr <= s; liczbaCyfr++) {
        for (let j=liczbaCyfr-1; j<s;j++) {
            let baza = input.substring(j,j+liczbaCyfr-1);
            retArr[retArr.length] = workX(baza,input,j+1);
        };
    };

//return
document.getElementById("result").innerHTML = retArr;
console.log('return',retArr);
  
};

//console.log(permute('1234'));

  //calcualte
//returnArr =   permute();


</script>

      
    </head>
<body>

<div class="container">
  <h1>Number Sums Tools</h1>
    <noscript>Sorry, your browser does not support JavaScript!</noscript>

    <h2>Generator</h2>
  <form autocomplete="on" class="form">
    <div class="row">
    <div class="col">
        <div class="form-group mb-2">
            <label for="total">Expected TOTAL:</label>
            <input type="number" name="total" id="total" value="1" class="form-control  form-control-lg" ><br>
        </div>
    </div>
    <div class="col">
        <div class="form-group  mx-sm-3 mb-2">
            <label for="size">Input</label>
            <input type="text" name="input" id="input"  value ="1234" class="form-control  form-control-lg" ><br>
        </div>
    </div>
    </div>
    <div class="row">
    <div class="col">
        <div class="form-group mb-2">
          <input type="button" onclick="reset()" class="btn btn-light  btn-sm" value="reset">
          <input type="button" onclick="permute()" class="btn btn-primary" value="Calculate!">
        </div>
    </div>
    </div>
    <div class="row">
        <div class="col">
            <p>Results:</p>
            <pre id="result"></pre>
        </div>
    </div>

  </form>
    
</div>

</body>
</html>
